###################################################
## FILENAME:    hits.sh
## AUTHOR:      Jimmy Lin (u5223173) 
## DATE:        2013-05-23
## DESCRIPTION: 
##    Homework 12 Q2 harder bash script
##
###################################################
## Edited by MacVim
## Documentation autogenerated by snippet
###################################################

## compute the total number of people
nPeople=$(wc -l < ./BDlist.txt)
## 
SortedDateList="$(cut -f 1 -d "," ./BDlist.txt | cut -f 2,3 -d "-" | sort)"

## length of the list containing all unique date
UniqueDateList="$( echo "$SortedDateList" | uniq | wc -l )"

## unshared date is those piece that is unrepeated piece,
## use argument -u for uniq
nUnSharedDate=$( echo "$SortedDateList" | uniq -u | wc -l )

## number of unshared date is the number of unshared people
## unshared shared people = all people - unshared people
nSharedPeople=$(($nPeople - $nUnSharedDate))

## shared date number = all (unique) date number - unshared date nubmer
nSharedDate=$(($UniqueDateList - $nUnSharedDate))

## type conversion from string to numeric value for display
## otherwise, there would be a long indent
nUnSharedDate=$(($nUnSharedDate)) 

## display the result on the console
echo -e "$nSharedPeople people share $nSharedDate birthdays between them.\n$nUnSharedDate unshared birthdays"
